import{d as w,i as h,h as y,n as C,S as m,o,U as n,c,H as u,w as f,F as p,u as a,W as V}from"./EtfM6F04.js";import{b as z}from"./DH66uM0G.js";import{k as x,$ as g,a5 as B,a6 as E,A as I,z as j,j as F}from"./B3FH9UnZ.js";import"./D9Z9MdNV.js";import"./CqkleIqs.js";import"./Bjgmnvuu.js";import"./m9QqqGtk.js";const N={class:"flex h-full w-full flex-col gap-2 pt-8"},M={class:"flex min-h-8 items-center justify-between gap-2 pl-1.5"},U={class:"has-[:focus-visible]:bg-b-1 group relative z-1 flex flex-col rounded-lg"},W={class:"flex h-full min-h-[calc(1rem*4)] flex-col"},$={key:1,class:"text-c-3 flex h-full items-center justify-center rounded-lg border p-4"},A=w({__name:"MarkdownInput",props:{modelValue:{},environment:{},envVariables:{},workspace:{}},emits:["update:modelValue"],setup(_,{emit:s}){const d=s,t=h("preview"),r=h(null);y(t,l=>{l==="edit"&&C(()=>{var e;(e=r.value)==null||e.focus()})});const v=()=>{requestAnimationFrame(()=>{t.value="preview"})};return(l,e)=>(o(),m("div",N,[n("div",M,[e[5]||(e[5]=n("h3",{class:"font-bold"},"Description",-1)),t.value==="preview"?(o(),c(a(g),{key:0,class:"text-c-2 hover:text-c-1 flex items-center gap-2",size:"sm",type:"button",variant:"outlined",onClick:e[0]||(e[0]=i=>t.value="edit")},{default:f(()=>[p(a(x),{icon:"Pencil",size:"sm",thickness:"1.5"}),e[4]||(e[4]=n("span",null,"Edit",-1))]),_:1,__:[4]})):u("",!0)]),n("div",U,[n("div",W,[t.value==="preview"?(o(),m(V,{key:0},[l.modelValue&&l.modelValue.trim().length?(o(),m(V,{key:0},[l.modelValue?(o(),c(a(B),{key:0,class:"h-full flex-1 rounded border border-transparent p-1.5 hover:border-(--scalar-background-3)",value:l.modelValue,withImages:"",onDblclick:e[1]||(e[1]=i=>t.value="edit")},null,8,["value"])):u("",!0),e[6]||(e[6]=n("div",{class:"brightness-lifted bg-b-1 absolute inset-0 -z-1 hidden rounded group-hover:block group-has-[:focus-visible]:hidden"},null,-1))],64)):(o(),m("div",$,[p(a(g),{class:"hover:bg-b-2 hover:text-c-1 text-c-2 flex items-center gap-2",size:"sm",variant:"ghost",onClick:e[2]||(e[2]=i=>t.value="edit")},{default:f(()=>[p(a(x),{icon:"Pencil",size:"sm",thickness:"1.5"}),e[7]||(e[7]=n("span",null,"Write a description",-1))]),_:1,__:[7]})]))],64)):u("",!0),t.value==="edit"?(o(),c(E,{key:1,ref_key:"codeInputRef",ref:r,class:"h-full flex-1 border px-0.5 py-0",envVariables:l.envVariables,environment:l.environment,modelValue:l.modelValue,workspace:l.workspace,onBlur:v,"onUpdate:modelValue":e[3]||(e[3]=i=>d("update:modelValue",i))},null,8,["envVariables","environment","modelValue","workspace"])):u("",!0)])])]))}}),D=I(A,[["__scopeId","data-v-5997a667"]]),G=w({__name:"CollectionOverview",setup(_){const{activeCollection:s,activeEnvironment:d,activeEnvVariables:t,activeWorkspace:r}=j(),{collectionMutators:v}=F(),l=e=>{s.value&&v.edit(s.value.uid,"info.description",e)};return(e,i)=>(o(),c(z,null,{default:f(()=>{var b,k;return[a(d)&&a(r)?(o(),c(D,{key:0,envVariables:a(t),environment:a(d),modelValue:((k=(b=a(s))==null?void 0:b.info)==null?void 0:k.description)??"",workspace:a(r),"onUpdate:modelValue":l},null,8,["envVariables","environment","modelValue","workspace"])):u("",!0)]}),_:1}))}});export{G as default};
