import{d as M,af as N,S as r,o as d,U as l,F as n,u as t,W as u,Q as g,R as W,w as b}from"./EtfM6F04.js";import{z as D,j as V,t as j,k,$ as z,x as R,o as y,A}from"./B3FH9UnZ.js";import{w as B}from"./tnUYTV7I.js";import{w as F}from"./BLnBc-s6.js";import"./D9Z9MdNV.js";import"./CqkleIqs.js";import"./Bjgmnvuu.js";import"./m9QqqGtk.js";const L={class:"flex h-full w-full flex-col gap-12 px-1.5 pt-8"},O={class:"flex flex-col gap-2"},S={class:"bg-b-2 rounded-lg border text-sm"},T={class:"bg-b-1 flex items-center justify-between gap-4 rounded-t-lg p-3"},I={class:"text-c-1 flex items-center overflow-x-auto border-t py-1.5 whitespace-nowrap"},P={class:"flex items-center"},E=["href"],Z={class:"flex flex-col gap-4"},q={class:"flex items-center justify-between rounded-lg border p-3 text-sm"},G=M({__name:"CollectionSettings",setup(Q){const{activeCollection:a,activeWorkspace:i,activeWorkspaceCollections:C}=D(),{collectionMutators:m}=V(),{replace:U}=N(),s=j();function $(){var o,e;a.value&&(o=a.value)!=null&&o.documentUrl&&m.edit(a.value.uid,"watchMode",!((e=a.value)!=null&&e.watchMode))}function _(){if(!a.value||!i.value)return;m.delete(a.value,i.value);const o=C.value[0];o&&U({name:"collection",params:{[y.Workspace]:i.value.uid,[y.Collection]:o.uid}}),s.hide()}return(o,e)=>{var p,f,v,h,x;return d(),r(u,null,[l("div",L,[l("div",O,[e[5]||(e[5]=l("div",{class:"flex h-8 items-center"},[l("h3",{class:"font-bold"},"Features")],-1)),l("div",S,[l("div",T,[e[2]||(e[2]=l("div",null,[l("h4",null,"Watch Mode"),l("p",{class:"text-c-2 mt-1"}," When enabled, the OpenAPI document will be polled for changes. The collection will be updated automatically. ")],-1)),n(t(B),{class:"w-4",disabled:!((p=t(a))!=null&&p.documentUrl),modelValue:((f=t(a))==null?void 0:f.watchMode)??!1,"onUpdate:modelValue":$},null,8,["disabled","modelValue"])]),l("div",I,[l("div",P,[(v=t(a))!=null&&v.documentUrl?(d(),r(u,{key:0},[e[3]||(e[3]=l("span",{class:"bg-b-2 sticky left-0 pr-2 pl-3"},"Source",-1)),l("a",{class:"text-c-2 group rounded pr-3 no-underline hover:underline",href:t(a).documentUrl,target:"_blank"},[g(W(t(a).documentUrl)+" ",1),n(t(k),{class:"ml-1 hidden w-2.5 group-hover:inline",icon:"ExternalLink"})],8,E)],64)):(d(),r(u,{key:1},[n(t(k),{class:"text-c-2 mr-2 ml-3 w-4",icon:"NotAllowed",size:"sm"}),e[4]||(e[4]=l("span",{class:"text-c-2 pr-3"}," No URL configured. Try importing an OpenAPI document from an URL. ",-1))],64))])])])]),l("div",Z,[e[8]||(e[8]=l("h3",{class:"font-bold"},"Danger Zone",-1)),l("div",q,[e[7]||(e[7]=l("div",null,[l("h4",null,"Delete Collection"),l("p",{class:"text-c-2 mt-1"}," Be careful, my friend. Once deleted, there is no way to recover the collection. ")],-1)),n(t(z),{class:"custom-scroll h-8 gap-1.5 px-2.5 font-medium whitespace-nowrap shadow-none focus:outline-none",variant:"danger",onClick:e[0]||(e[0]=c=>t(s).show())},{default:b(()=>e[6]||(e[6]=[g(" Delete Collection ")])),_:1,__:[6]})])])]),n(t(R),{size:"xxs",state:t(s),title:`Delete ${(x=(h=t(a))==null?void 0:h.info)==null?void 0:x.title}`},{default:b(()=>{var c,w;return[n(F,{variableName:((w=(c=t(a))==null?void 0:c.info)==null?void 0:w.title)??"",warningMessage:"This action cannot be undone.",onClose:e[1]||(e[1]=H=>t(s).hide()),onDelete:_},null,8,["variableName"])]}),_:1},8,["state","title"])],64)}}}),oe=A(G,[["__scopeId","data-v-5170f3be"]]);export{oe as default};
